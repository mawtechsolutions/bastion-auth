# =============================================================================
# BastionAuth Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL="postgresql://bastionauth:bastionauth_secret@localhost:5432/bastionauth?schema=public"

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_URL="redis://localhost:6379"

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
NODE_ENV="development"
PORT=3001
HOST="0.0.0.0"

# Public URL for the API (used for OAuth callbacks, email links, etc.)
API_URL="http://localhost:3001"

# Frontend URL (for CORS and redirects)
FRONTEND_URL="http://localhost:3000"

# Admin Dashboard URL
ADMIN_URL="http://localhost:3002"

# -----------------------------------------------------------------------------
# JWT Configuration
# -----------------------------------------------------------------------------
# Generate with: openssl genrsa -out private.pem 2048
JWT_PRIVATE_KEY=""
# Generate with: openssl rsa -in private.pem -pubout -out public.pem
JWT_PUBLIC_KEY=""

# Access token expiry (15 minutes recommended)
JWT_ACCESS_TOKEN_EXPIRY="15m"

# Refresh token expiry (7 days recommended)
JWT_REFRESH_TOKEN_EXPIRY="7d"

# Issuer for JWT tokens
JWT_ISSUER="bastionauth"

# -----------------------------------------------------------------------------
# Encryption (for sensitive data at rest)
# -----------------------------------------------------------------------------
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=""

# -----------------------------------------------------------------------------
# Email (Resend)
# -----------------------------------------------------------------------------
RESEND_API_KEY=""
EMAIL_FROM="noreply@yourdomain.com"
EMAIL_FROM_NAME="BastionAuth"

# -----------------------------------------------------------------------------
# OAuth Providers
# -----------------------------------------------------------------------------
# Google
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# GitHub
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""

# Microsoft
MICROSOFT_CLIENT_ID=""
MICROSOFT_CLIENT_SECRET=""

# Apple
APPLE_CLIENT_ID=""
APPLE_TEAM_ID=""
APPLE_KEY_ID=""
APPLE_PRIVATE_KEY=""

# LinkedIn
LINKEDIN_CLIENT_ID=""
LINKEDIN_CLIENT_SECRET=""

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
# Rate limiting (requests per minute)
RATE_LIMIT_MAX=100

# Enable HaveIBeenPwned password checking
HIBP_ENABLED="true"

# Session cookie settings
COOKIE_DOMAIN=""
COOKIE_SECURE="false"
COOKIE_SAME_SITE="lax"

# CSRF secret (generate with: openssl rand -hex 32)
CSRF_SECRET=""

# -----------------------------------------------------------------------------
# Admin
# -----------------------------------------------------------------------------
# Initial admin email (created on first run)
ADMIN_EMAIL=""
ADMIN_PASSWORD=""

# API key for admin operations (generate with: openssl rand -hex 32)
ADMIN_API_KEY=""

# -----------------------------------------------------------------------------
# Webhooks
# -----------------------------------------------------------------------------
# Webhook signing secret (generate with: openssl rand -hex 32)
WEBHOOK_SECRET=""

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL="info"
LOG_FORMAT="pretty"
